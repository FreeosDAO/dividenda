\hypertarget{group__dividenda}{}\doxysection{dividenda contract}
\label{group__dividenda}\index{dividenda contract@{dividenda contract}}
\doxysubsection*{Enumerations}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__dividenda_ga943a308f745ea7ddc590893803538b3b}\label{group__dividenda_ga943a308f745ea7ddc590893803538b3b}} 
enum \mbox{\hyperlink{group__dividenda_ga943a308f745ea7ddc590893803538b3b}{roi\+\_\+target\+\_\+cap}} \{ \newline
{\bfseries ITERATION} =1
, {\bfseries HORIZONTAL} =2
, {\bfseries VERTICAL} =3
, {\bfseries ITERATION} =1
, \newline
{\bfseries HORIZONTAL} =2
, {\bfseries VERTICAL} =3
 \}
\begin{DoxyCompactList}\small\item\em 1-\/ iterative 2-\/ horizontal 3-\/ vertical \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{group__dividenda_gae73037b60d607b092243c1c540cca298}{upsert}} (uint8\+\_\+t role\+\_\+type, name role\+\_\+acct)
\begin{DoxyCompactList}\small\item\em The table \textquotesingle{}white\+\_\+list\textquotesingle{} is used by the action to define the context for the proposal creation and voting (Its defines who is the proposer and the two voters along with storing temporalily vote(s) casted by a given voter on the current proposal (used only by the action \textquotesingle{}proposalvote\textquotesingle{}). \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_gae8f732b20630f49ae24eae643575a868}{dryrun}} (name proposername)
\item 
void \mbox{\hyperlink{group__dividenda_ga3b3f3058b4355ec24f1f252632e9dbff}{proposalnew}} (const name proposername, const name eosaccount, const uint8\+\_\+t \mbox{\hyperlink{group__dividenda_ga943a308f745ea7ddc590893803538b3b}{roi\+\_\+target\+\_\+cap}}, const double period\+\_\+percentage, const asset threshold, const uint32\+\_\+t rates\+\_\+left, const bool locked)
\item 
void \mbox{\hyperlink{group__dividenda_ga866a56d761bef2d9e3ceef36312d206e}{proposalvote}} (const name votername, const uint8\+\_\+t vote)
\begin{DoxyCompactList}\small\item\em Note\+: Second vote (if also positive) will mint the new proposed nft. The proposal in that case will be erased with writing \char`\"{}lastaccepted\char`\"{} in the proposal eosaccount field. ~\newline
 Before writing new nft the function \mbox{\hyperlink{group__dividenda_gadedd41689e8a0ba36e76ea4d190fb3ff}{replay()}} is called to process remaining iterations If proposal was not accepted is also erased with writing \char`\"{}lastrefused\char`\"{} in the proposal eosaccount field. ~\newline
 There is not allowed (and verified) second voting for the same proposer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_ga368033d3f85105e7f320bbcb6ae7cdd9}{propreset}} (name proposername)
\begin{DoxyCompactList}\small\item\em The erased proposal will have written in the field eosaccount the text \char`\"{}erased\char`\"{}. The nftkey in proposal record remains unchanged. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_gae55731315d7d7fd1df1d052761122491}{removeallow}} ()
\begin{DoxyCompactList}\small\item\em This action should be considered to run only in testing or in case of administrative changes in OPTIONSDAO. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_gabae1a299143796946bf268b68f44388e}{regchown}} (name userfrom, name userto, uint64\+\_\+t nft\+\_\+id)
\item 
void \mbox{\hyperlink{group__dividenda_gadedd41689e8a0ba36e76ea4d190fb3ff}{replay}} ()
\item 
void \mbox{\hyperlink{group__dividenda_ga264fd923644a529235c6547addcd8341}{dividcompute}} ()
\item 
void \mbox{\hyperlink{group__dividenda_ga8b48eba57ecf5c809de3cd698e612651}{clear}} ()
\begin{DoxyCompactList}\small\item\em Warning\+: Note that all TEST functions are accessing the tables outside of a normally provided sequence of actions. The testing function used incorrectly may cause unpredictable results. The TEST functions will be removed in production. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_ga425e00ebe8ac8f93b113c8c709a69044}{clear1}} ()
\begin{DoxyCompactList}\small\item\em Warning\+: Note that all TEST functions are accessing the tables outside of a normally provided sequence of actions. The testing function used incorrectly may cause unpredictable results. The TEST functions will be removed in production. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_ga235fc8d23e4abd355fff6773e9fc21a6}{votesreset11}} ()
\item 
void \mbox{\hyperlink{group__dividenda_ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2}{unlocknft}} (uint64\+\_\+t nft\+\_\+id)
\item 
void \mbox{\hyperlink{group__dividenda_ga66be7bbc6cc74c5d567dabb390f90868}{query}} (name eosaccount)
\item 
\mbox{\Hypertarget{group__dividenda_gab5ccac468e71da36e30b5307983dc418}\label{group__dividenda_gab5ccac468e71da36e30b5307983dc418}} 
void {\bfseries zerofortest} ()
\item 
void \mbox{\hyperlink{group__dividenda_ga94a8ea42b42b5ff4ca34b9ecfcd8844f}{notify\+\_\+front}} (uint8\+\_\+t number)
\item 
void \mbox{\hyperlink{group__dividenda_gaf93fbfd3f7c04f236c6636d4fb14c442}{clearfront}} ()
\item 
void \mbox{\hyperlink{group__dividenda_ga7fe947344cf4e1d9f9950dcde83dd18a}{removeonenft}} (uint64\+\_\+t nftx\+\_\+id)
\begin{DoxyCompactList}\small\item\em Warning\+: Note that all TEST functions are accessing the tables outside of a normally provided sequence of actions. The testing function used incorrectly may cause unpredictable results. The TEST functions will be removed in production. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{group__dividenda_gaadd58a2bd505eba3564c7483be1a6140}{version}} ()
\end{DoxyCompactItemize}
\doxysubsection*{Variables}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__dividenda_gace4c4f9f2558851dff4c7913d6c072b2}\label{group__dividenda_gace4c4f9f2558851dff4c7913d6c072b2}} 
CONTRACT {\bfseries dividenda}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
dividenda contract

dividenda contract read profit cumulated on contract account coming from different sources. 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__dividenda_ga8b48eba57ecf5c809de3cd698e612651}\label{group__dividenda_ga8b48eba57ecf5c809de3cd698e612651}} 
\index{dividenda contract@{dividenda contract}!clear@{clear}}
\index{clear@{clear}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{clear()}{clear()}}
{\footnotesize\ttfamily void dividenda\+::clear (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Warning\+: Note that all TEST functions are accessing the tables outside of a normally provided sequence of actions. The testing function used incorrectly may cause unpredictable results. The TEST functions will be removed in production. 

clear action TEST!!!

TEST ONLY\+: zeroes the \textquotesingle{}summary\textquotesingle{} table without erasing it (no RAM released)

\begin{DoxyPrecond}{Precondition}

\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_ga425e00ebe8ac8f93b113c8c709a69044}\label{group__dividenda_ga425e00ebe8ac8f93b113c8c709a69044}} 
\index{dividenda contract@{dividenda contract}!clear1@{clear1}}
\index{clear1@{clear1}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{clear1()}{clear1()}}
{\footnotesize\ttfamily void dividenda\+::clear1 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



Warning\+: Note that all TEST functions are accessing the tables outside of a normally provided sequence of actions. The testing function used incorrectly may cause unpredictable results. The TEST functions will be removed in production. 

clear1 action TEST!!!

TEST ONLY\+: Completely erase \textquotesingle{}summary\textquotesingle{} table. \mbox{\Hypertarget{group__dividenda_gaf93fbfd3f7c04f236c6636d4fb14c442}\label{group__dividenda_gaf93fbfd3f7c04f236c6636d4fb14c442}} 
\index{dividenda contract@{dividenda contract}!clearfront@{clearfront}}
\index{clearfront@{clearfront}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{clearfront()}{clearfront()}}
{\footnotesize\ttfamily void dividenda\+::clearfront (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

clearfront function

Clearing content of notify\+\_\+front. Called when new proposal is created. \mbox{\Hypertarget{group__dividenda_ga264fd923644a529235c6547addcd8341}\label{group__dividenda_ga264fd923644a529235c6547addcd8341}} 
\index{dividenda contract@{dividenda contract}!dividcompute@{dividcompute}}
\index{dividcompute@{dividcompute}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{dividcompute()}{dividcompute()}}
{\footnotesize\ttfamily void dividenda\+::dividcompute (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

dividcompute action

The wrapper for the \mbox{\hyperlink{group__dividenda_gadedd41689e8a0ba36e76ea4d190fb3ff}{replay()}} function allowing to call it as an action. \mbox{\Hypertarget{group__dividenda_gae8f732b20630f49ae24eae643575a868}\label{group__dividenda_gae8f732b20630f49ae24eae643575a868}} 
\index{dividenda contract@{dividenda contract}!dryrun@{dryrun}}
\index{dryrun@{dryrun}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{dryrun()}{dryrun()}}
{\footnotesize\ttfamily void dividenda\+::dryrun (\begin{DoxyParamCaption}\item[{name}]{proposername }\end{DoxyParamCaption})}

dryrun action

This action perform analytics related to the dividend percentage only. The action is showing what is ~\newline
 the total percentage of dividends paid in each iteration (it will be the same for each) with breakdown into categories (like iterative, horizontal, and vertical roi caps). Additionally, it showing cumulative percentage of dividends paid for each person as each person may have several nftxs.

All of this is counted on a basis of all active at this moment nft\textquotesingle{}s. nft\textquotesingle{}s with rates paid already paid (cap=1) or nft\textquotesingle{}s completely paid due to total accrued above threshold value (cap=2) are not counted. Cap=3 founders nft\textquotesingle{}s which are temporarily locked are counted as soon they will be paid again. ~\newline
 Additional information on list of already fully paid nft\textquotesingle{}s is displayed by the front-\/end.


\begin{DoxyParams}[1]{Parameters}
\mbox{\texttt{ in}}  & {\em proposername} & -\/ account name of the proposer\\
\hline
 & {\em $<$a} & href=\char`\"{}first name used by the bloks.\+io and eosstudio, second name used in the code\char`\"{}$>$out
\begin{DoxyItemize}
\item analytics table -\/ displays cummulative percentage of active nft\textquotesingle{}s on a basis of cap category
\item summary1 table -\/ displays cumulative percentage of active nft\textquotesingle{}s on a basis of each user nft\textquotesingle{}s. ~\newline

\end{DoxyItemize}\\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
required any VIP account listed on whitelist. ~\newline
 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_ga94a8ea42b42b5ff4ca34b9ecfcd8844f}\label{group__dividenda_ga94a8ea42b42b5ff4ca34b9ecfcd8844f}} 
\index{dividenda contract@{dividenda contract}!notify\_front@{notify\_front}}
\index{notify\_front@{notify\_front}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{notify\_front()}{notify\_front()}}
{\footnotesize\ttfamily void dividenda\+::notify\+\_\+front (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{number }\end{DoxyParamCaption})}

notify\+\_\+front function

Used to transmit non-\/critical error messages and warnings to be interpreted by the front end. 
\begin{DoxyParams}{Parameters}
{\em number} & -\/ one of the numeric const defined in dividend.\+hpp. Each time when notify\+\_\+front is called the ~\newline
 given number is added to the queue (a vector). The vector is read by the front end. The vector can be erased by the clearfront function called when new proposal is created. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__dividenda_ga3b3f3058b4355ec24f1f252632e9dbff}\label{group__dividenda_ga3b3f3058b4355ec24f1f252632e9dbff}} 
\index{dividenda contract@{dividenda contract}!proposalnew@{proposalnew}}
\index{proposalnew@{proposalnew}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{proposalnew()}{proposalnew()}}
{\footnotesize\ttfamily void dividenda\+::proposalnew (\begin{DoxyParamCaption}\item[{const name}]{proposername,  }\item[{const name}]{eosaccount,  }\item[{const uint8\+\_\+t}]{roi\+\_\+target\+\_\+cap,  }\item[{const double}]{period\+\_\+percentage,  }\item[{const asset}]{threshold,  }\item[{const uint32\+\_\+t}]{rates\+\_\+left,  }\item[{const bool}]{locked }\end{DoxyParamCaption})}

proposalne action (proposal new)

Creates new proposal. The proposal record (if accepted) becomes a base to mint new nft. 
\begin{DoxyParams}{Parameters}
{\em proposer} & -\/ The account name of a person eligible to create new proposal. \\
\hline
{\em eosaccount} & -\/ The account name of future owner of new proposed nft (investor or founder). ~\newline
 \\
\hline
{\em roi\+\_\+target\+\_\+cap} & -\/ Type of Dividend Policy (cap roi)\+: 1-\/ 2-\/ 3-\/ (above 3 not accepted). \\
\hline
{\em period\+\_\+percentage} & -\/ Pre-\/agreed percentage of weekly dividend which will be transfered to eosaccount. \\
\hline
{\em threshold} & -\/ Upper limit for dividend payment ( if roi=1 threshold ignored, if roi=2 threshold cummulative, if roi=3 threshold for iteration). \\
\hline
{\em rates\+\_\+left} & -\/ Number of iteration dividend left to pay before this nft becomes inactive. (used only for roi=1, for roi=2 and roi=3 ignored -\/ enter 0 or above). \\
\hline
{\em locked} & -\/ Lock of payments (only for roi=3).\\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
requires proposer permission 
\end{DoxyPrecond}

\begin{DoxyParams}{Parameters}
{\em eosaccount} & OPTION account used to receive dividends and for user identification \\
\hline
{\em locked} & lock dividends for selected new founders. Note\+: When unlock cannot be locked again. \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__dividenda_ga866a56d761bef2d9e3ceef36312d206e}\label{group__dividenda_ga866a56d761bef2d9e3ceef36312d206e}} 
\index{dividenda contract@{dividenda contract}!proposalvote@{proposalvote}}
\index{proposalvote@{proposalvote}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{proposalvote()}{proposalvote()}}
{\footnotesize\ttfamily void dividenda\+::proposalvote (\begin{DoxyParamCaption}\item[{const name}]{votername,  }\item[{const uint8\+\_\+t}]{vote }\end{DoxyParamCaption})}



Note\+: Second vote (if also positive) will mint the new proposed nft. The proposal in that case will be erased with writing \char`\"{}lastaccepted\char`\"{} in the proposal eosaccount field. ~\newline
 Before writing new nft the function \mbox{\hyperlink{group__dividenda_gadedd41689e8a0ba36e76ea4d190fb3ff}{replay()}} is called to process remaining iterations If proposal was not accepted is also erased with writing \char`\"{}lastrefused\char`\"{} in the proposal eosaccount field. ~\newline
 There is not allowed (and verified) second voting for the same proposer. 

proposalvote action.

Voting for acceptance or not) the new proposal. ~\newline
 
\begin{DoxyParams}{Parameters}
{\em votername} & -\/ The voter name (must be white\+\_\+list listed account with role\+\_\+type 2 or 3, proposer not allowed). \\
\hline
{\em vote} & -\/ The vote\+: 0 -\/ ignored/no vote, 1 -\/ no, 2 -\/ yes/accept.\\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
requires voter permission 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_ga368033d3f85105e7f320bbcb6ae7cdd9}\label{group__dividenda_ga368033d3f85105e7f320bbcb6ae7cdd9}} 
\index{dividenda contract@{dividenda contract}!propreset@{propreset}}
\index{propreset@{propreset}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{propreset()}{propreset()}}
{\footnotesize\ttfamily void dividenda\+::propreset (\begin{DoxyParamCaption}\item[{name}]{proposername }\end{DoxyParamCaption})}



The erased proposal will have written in the field eosaccount the text \char`\"{}erased\char`\"{}. The nftkey in proposal record remains unchanged. 

propreset action.

Erase and withdraw active proposal

\begin{DoxyPrecond}{Precondition}
requires proposer permission 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_ga66be7bbc6cc74c5d567dabb390f90868}\label{group__dividenda_ga66be7bbc6cc74c5d567dabb390f90868}} 
\index{dividenda contract@{dividenda contract}!query@{query}}
\index{query@{query}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{query()}{query()}}
{\footnotesize\ttfamily void dividenda\+::query (\begin{DoxyParamCaption}\item[{name}]{eosaccount }\end{DoxyParamCaption})}

query action (informative only -\/ the action do not change any values)


\begin{DoxyParams}{Parameters}
{\em eosaccount} & -\/ the account which we query. This account is returned from frontend wallet as an account of a person who currently is logged on. The function return the type of the account to notify\+\_\+front where is used immediately by the front end to display a correct web page.\\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
permissions are the same like eosaccount parameter 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_gabae1a299143796946bf268b68f44388e}\label{group__dividenda_gabae1a299143796946bf268b68f44388e}} 
\index{dividenda contract@{dividenda contract}!regchown@{regchown}}
\index{regchown@{regchown}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{regchown()}{regchown()}}
{\footnotesize\ttfamily void dividenda\+::regchown (\begin{DoxyParamCaption}\item[{name}]{userfrom,  }\item[{name}]{userto,  }\item[{uint64\+\_\+t}]{nft\+\_\+id }\end{DoxyParamCaption})}

regchown action.

Changes nft ownership (nft transfer). Set number 2 in message table if nftx\+\_\+id is not pointing nft belonging to userfrom. In that case the action regchown is ignored.


\begin{DoxyParams}{Parameters}
{\em userfrom} & -\/ original nft owner \\
\hline
{\em userto} & -\/ receiver of the nft \\
\hline
{\em nftx\+\_\+id} & -\/ the nft key belonging to userfrom\\
\hline
\end{DoxyParams}
\begin{DoxyPrecond}{Precondition}
requires userfrom permission. 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_gae55731315d7d7fd1df1d052761122491}\label{group__dividenda_gae55731315d7d7fd1df1d052761122491}} 
\index{dividenda contract@{dividenda contract}!removeallow@{removeallow}}
\index{removeallow@{removeallow}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{removeallow()}{removeallow()}}
{\footnotesize\ttfamily void dividenda\+::removeallow (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}



This action should be considered to run only in testing or in case of administrative changes in OPTIONSDAO. 

removeallow action

Removes the white\+\_\+list table.

\begin{DoxyPrecond}{Precondition}
requires contract permission 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_ga7fe947344cf4e1d9f9950dcde83dd18a}\label{group__dividenda_ga7fe947344cf4e1d9f9950dcde83dd18a}} 
\index{dividenda contract@{dividenda contract}!removeonenft@{removeonenft}}
\index{removeonenft@{removeonenft}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{removeonenft()}{removeonenft()}}
{\footnotesize\ttfamily void dividenda\+::removeonenft (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{nftx\+\_\+id }\end{DoxyParamCaption})}



Warning\+: Note that all TEST functions are accessing the tables outside of a normally provided sequence of actions. The testing function used incorrectly may cause unpredictable results. The TEST functions will be removed in production. 

removeonenft action TEST!!!

removes selected one nft with nftx\+\_\+id given as a parameter. 
\begin{DoxyParams}{Parameters}
{\em } & \\
\hline
\end{DoxyParams}
\mbox{\Hypertarget{group__dividenda_gadedd41689e8a0ba36e76ea4d190fb3ff}\label{group__dividenda_gadedd41689e8a0ba36e76ea4d190fb3ff}} 
\index{dividenda contract@{dividenda contract}!replay@{replay}}
\index{replay@{replay}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{replay()}{replay()}}
{\footnotesize\ttfamily void dividenda\+::replay (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

replay function

process dividend sharing for each iteration one by one except the current which is still collecting incoming profits. Set up number 1 in the message table if received current iteration number is 0, what is unlikely to happen.

\begin{DoxyPrecond}{Precondition}
do not need any 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2}\label{group__dividenda_ga8a6e8b4dbf65e7d1c5421d8d3b67dcf2}} 
\index{dividenda contract@{dividenda contract}!unlocknft@{unlocknft}}
\index{unlocknft@{unlocknft}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{unlocknft()}{unlocknft()}}
{\footnotesize\ttfamily void dividenda\+::unlocknft (\begin{DoxyParamCaption}\item[{uint64\+\_\+t}]{nft\+\_\+id }\end{DoxyParamCaption})}

unlocknftx action ~\newline



\begin{DoxyParams}{Parameters}
{\em nftx\+\_\+id} & -\/ points nftx which will have removed lock. It must be founder owned nftx otherwise action is ignored.\\
\hline
\end{DoxyParams}
Removes lock (if any) on nft belonging to a founder. If applied to alredy unlocked nft, the action is ignored. In that case the number 3 is set in the message table. \begin{DoxyPrecond}{Precondition}
requires contract authorization 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_gae73037b60d607b092243c1c540cca298}\label{group__dividenda_gae73037b60d607b092243c1c540cca298}} 
\index{dividenda contract@{dividenda contract}!upsert@{upsert}}
\index{upsert@{upsert}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{upsert()}{upsert()}}
{\footnotesize\ttfamily void dividenda\+::upsert (\begin{DoxyParamCaption}\item[{uint8\+\_\+t}]{role\+\_\+type,  }\item[{name}]{role\+\_\+acct }\end{DoxyParamCaption})}



The table \textquotesingle{}white\+\_\+list\textquotesingle{} is used by the action to define the context for the proposal creation and voting (Its defines who is the proposer and the two voters along with storing temporalily vote(s) casted by a given voter on the current proposal (used only by the action \textquotesingle{}proposalvote\textquotesingle{}). 

upsert action (updated)

Creates VIP table defining proposer and voters. After filling up the table may be changed only as a whole table. Individual changes of rows are not allowed. This is assumed multisig to create the table.

Qparam\mbox{[}in\mbox{]} role\+\_\+type -\/ may be only\+: 1 for proposer, 2 for voter, 3 for another voter, more not accepted. Entering the same number twice is blocked. role\+\_\+acct -\/ corresponding account name of proposer or voters (depending on role type). This will be used to verify permissions on proposal operations performed by another actions.

\begin{DoxyPrecond}{Precondition}
contract permission is required 
\end{DoxyPrecond}
\mbox{\Hypertarget{group__dividenda_gaadd58a2bd505eba3564c7483be1a6140}\label{group__dividenda_gaadd58a2bd505eba3564c7483be1a6140}} 
\index{dividenda contract@{dividenda contract}!version@{version}}
\index{version@{version}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{version()}{version()}}
{\footnotesize\ttfamily void version (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

action version

breaks the action and display string with version number + current iteration number \mbox{\Hypertarget{group__dividenda_ga235fc8d23e4abd355fff6773e9fc21a6}\label{group__dividenda_ga235fc8d23e4abd355fff6773e9fc21a6}} 
\index{dividenda contract@{dividenda contract}!votesreset11@{votesreset11}}
\index{votesreset11@{votesreset11}!dividenda contract@{dividenda contract}}
\doxysubsubsection{\texorpdfstring{votesreset11()}{votesreset11()}}
{\footnotesize\ttfamily void dividenda\+::votesreset11 (\begin{DoxyParamCaption}{ }\end{DoxyParamCaption})}

votesreset11 action TEST

TEST ONLY\+: Clean up the voting results (last column in \textquotesingle{}whitelist\textquotesingle{} table). 